# SGProgramming

0. 프로젝트 제목

 Base Defense

1. 게임 컨셉

 - 타워를 설치하고 몰려오는 몬스터 무리를 잡아 기지를 방어하는 게임
 - 몬스터를 못 잡아 기지가 뚫리면 패배 (몬스터 1마리 당 Life -1 / Life가 0이 되면 패배)
 - 몬스터를 최대한 많이 잡아 점수를 높게 받는 것이 목표인 게임


2. 개발 범위

 - 메인 게임 로직 

  - 타워 종류 2가지 + 각자 강화 1단계 씩
    - 공격 타워 (25골드 + 강화 시 20골드 소모)
      - 사거리 내의 적에게 단일 공격
      - 공격속도 = 0.5초에 1번
      - 공격력 = 15(+ 15)
      - 사거리 = 400(+ 200)

    - 둔화 타워 (15골드 + 강화 시 10골드 소모)
      - 사거리 내의 적에게 단일 둔화 효과
      - 공격속도 = 1초에 1번
      - 공격력(둔화) = 15(+ 15)
      - 사거리 = 400(+ 200)
      
  - 기본 몬스터 1가지 (처치 시 1골드 획득)
    - HP = 50

  - 보스 몬스터 1가지 (처치 시 3골드 획득)
    - HP = 130
    - 주기적(5초)으로 특별 패턴
    - 특별 패턴 : 보스 몬스터 주변의 타워들의 움직임을 2초간 멈추게하는 공격

  - 스테이지 1개
    - 타워와 몬스터의 종류가 적어 스테이지가 많아도 큰 의미가 없을거라 판단

  - 골드 시스템
    - 게임 시작하면 기본 70골드
    - 몬스터를 처치하면 골드 획득 가능
    - 타워를 설치하고 강화할 때 골드 소모

  - Life 시스템
    - 게임 시작하면 기본 Life 7
    - 기본 몬스터가 기지에 들어가면 Life -1
    - 보스 몬스터가 기지에 들어가면 Life -3
    - Life가 0이 되면 게임 종료

  - Score 시스템
    - 보스 몬스터 처치시 3점
    - 기본 몬스터 처치시 1점
    - 최대한 많은 점수를 얻는 것이 목표

 - 기타
  - 시작 화면
    - 화면을 터치하면 게임 시작

  - 게임 오버 화면
    - 화면을 터치하면 새로운 게임 시작


3. 예상 게임 실행 흐름

 - 기본적으로 일정 골드 지급
 - 몬스터 무리가 나오기 전 미리 타워 설치
 - 이후 몬스터를 잡으면 골드 지급
 - 몬스터가 기지에 들어가면 Life 감소
 - 골드로 추가 타워 설치 및 타워 강화

![Image](https://github.com/user-attachments/assets/0043a510-524d-433e-84f6-cd6e26ea3eca)

4. GameObject

 - Tower : Bullet을 생성하여 Enemy를 공격하는 객체
    - attack, slow의 2가지 Type
    - range내에서 가장 가까운 Enemy를 target으로 설정하여 Bullet을 발사
    - 추가 골드를 소모하여 강화 가능

 - Enemy : EnemyGenerator에게 생성되어 Tower의 공격을 받고 path를 따라 이동하는 객체
    - normal, boss의 2가지 Type
    - boss Enemy는 5초마다 자신의 주변 Tower를 3초간 정지시키는 패턴을 가짐
    - EnemyGenerator에서 무리로 생성됨
    - path를 따라 움직이며 path의 마지막까지 죽지않고 간다면 life가 감소됨


 - Bullet : Tower에 의해 생성되어 Enemy를 실제로 공격하는 객체
    - 발사한 Tower, target이 되는 Enemy를 인자로 줘서 생성
    - attack Bullet: Tower의 damage만큼 target Enemy의 체력을 감소시킨다
    - slow Bullet: Tower의 damage만큼 target Enemy의 SPEED를 감소시킨다

![Image](https://github.com/user-attachments/assets/c111a62c-c131-49dd-afa7-b0e1afe1de13)


5. 개발 일정 및 개발 현황

| 개발 범위 | 세부 사항                           | 진행도 |
|:--------:|----------------------------------|:--------:|
| Tower | - 설치, 강화, 삭제, 공격 등의 기능       |  100% |
|       | - 공격타워, 둔화타워 2가지 종류          | 100%  |
| Enemy | - path를 따라 이동                      | 100% |
|       | - Generator를 통해 무리로 생성됨         | 100% |
|       | - 보스 몬스터는 특별 패턴을 가짐          | 100%  |
| Stage | 1개의 스테이지                          | 100%  |
| 기타   | 게임오버화면 / 골드, score, life 시스템   | 100% |



 - 1주차 (4월 8일 ~ 4월 14일)
    - 타워 스탯(공격력, 사거리, 필요 골드 등) 설계
    - 몬스터 스탯(이동속도, 체력 등) 설계
    - 보스 몬스터 패턴 설계
    - 몬스터 웨이브 및 스테이지 설계


 - 2주차 (4월 15일 ~ 4월 21일)
    - 타워 공격
    - Bullet Class 설계
   

 - 3주차 (4월 22일 ~ 4월 28일)
    - 몬스터 구현
    - 몬스터 생성 Generator


 - 4주차 (4월 29일 ~ 5월 5일)
    - 타워 강화
    - 타워 설치
    - 타워 판매


 - 5주차 (5월 6일 ~ 5월 12일)
    - 몬스터 Generator 개선


 - 6주차 (5월 13일 ~ 5월 19일)
    - 타워, 몬스터 애니메이션


 - 7주차 (5월 20일 ~ 5월 26일)
    - 스테이지 구현
    - 스테이지의 path에 따라 몬스터가 이동하도록


 - 8주차 (5월 27일 ~ 6월 2일)
    - 디버깅
    - 밸런싱
   

6. 주 별 Commit 횟수

![Image](https://github.com/user-attachments/assets/44014ff7-80e3-4b89-8f72-fa056a55f31c)

| 기간  |  Commit 횟수    |                       
|:-----:|----------------|
| 1주차 |  7  |
| 2주차 |  0  |
| 3주차 |  0  |
| 4주차 |  6  |
| 5주차 |  21 |
| 6주차 |  3  |
| 7주차 |  4  |
| 8주차 |  0  |
| 9주차 |  10 |

7. 개발 기술

 - 사용된 기술
   - 간단한 AABB 충돌 처리
   - 델타타임 기반 상태 업데이트

 - 수업내용에서 차용한 것
   - 맵 데이터 및 path

 - 직접 개발한 것
   - Tower, Enemy, Bullet, EnemyGenerator 전반 (Enemy 이동 제외)
   - Boss Monster Attack
   - Score, Life, Gold 시스템 (GameFramwork score 활용)

8. 아쉬운 점

 - 팔기 위해 보충할 것들
   - 일시정지, 종료 기능
   - 게임의 스케일 업
      - Tower, Enemy 종류 증가
      - 스테이지 다변화
      - 최고 점수 저장

 - 결국 해결하지 못한 문제 / 버그
   - Tower가 가장 가까운 Enemy를 기준으로 공격하니까 데미지가 없는 Slow Tower는 Enemy가 죽지 않으면 평생 한 Enemy를 공격하게 됨
